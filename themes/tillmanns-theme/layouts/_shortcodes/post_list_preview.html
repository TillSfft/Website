<div class="post-grid">
  {{/* Get only pages in the same section where the shortcode is used */}}
  {{ $section := .Page.Section }}
  
  {{ range (where .Site.RegularPages "Section" .Page.Section) }}
    {{ $poster := .Resources.GetMatch "media/poster*" }}
    {{ if $poster }}
      <a class="post-card" href="{{ .RelPermalink }}">
        <img src="{{ $poster.RelPermalink }}" alt="{{ .Title }} poster" loading="lazy">
      </a>
    {{ end }}
  {{ end }}
</div>
